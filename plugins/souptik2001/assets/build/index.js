(()=>{"use strict";const e=window.wp.element,t=window.wp.components,i=window.wp.editPost,o=window.wp.i18n,n=window.wp.primitives,s=(0,e.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(n.Path,{d:"M4 20h8v-1.5H4V20zM18.9 3.5c-.6-.6-1.5-.6-2.1 0l-7.2 7.2c-.4-.1-.7 0-1.1.1-.5.2-1.5.7-1.9 2.2-.4 1.7-.8 2.2-1.1 2.7-.1.1-.2.3-.3.4l-.6 1.1H6c2 0 3.4-.4 4.7-1.4.8-.6 1.2-1.4 1.3-2.3 0-.3 0-.5-.1-.7L19 5.7c.5-.6.5-1.6-.1-2.2zM9.7 14.7c-.7.5-1.5.8-2.4 1 .2-.5.5-1.2.8-2.3.2-.6.4-1 .8-1.1.5-.1 1 .1 1.3.3.2.2.3.5.2.8 0 .3-.1.9-.7 1.3z"})),r=(0,e.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(n.Path,{d:"M15.1 4.8l-3-2.5V4c-4.4 0-8 3.6-8 8 0 3.7 2.5 6.9 6 7.7.3.1.6.1 1 .2l.2-1.5c-.4 0-.7-.1-1.1-.2l-.1.2v-.2c-2.6-.8-4.5-3.3-4.5-6.2 0-3.6 2.9-6.5 6.5-6.5v1.8l3-2.5zM20 11c-.2-1.4-.7-2.7-1.6-3.8l-1.2.8c.7.9 1.1 2 1.3 3.1L20 11zm-1.5 1.8c-.1.5-.2 1.1-.4 1.6s-.5 1-.8 1.5l1.2.9c.4-.5.8-1.1 1-1.8s.5-1.3.5-2l-1.5-.2zm-5.6 5.6l.2 1.5c1.4-.2 2.7-.7 3.8-1.6l-.9-1.1c-.9.7-2 1.1-3.1 1.2z"})),a=window.wp.plugins,{element:{useState:l}}=wp,c=s;(0,a.registerPlugin)("souptik2001-slot-fills",{render:()=>{const[n,s]=l(!1),{revalidate_url:a="",revalidation_secret:d=""}=site_revalidation_data,p=async()=>{if(s(!0),0===a.length)wp.data.dispatch("core/notices").createNotice("error",(0,o.__)('Frontend revalidation URL empty. Please fill out the "Revalidate link" with some valid URL.',"souptik2001"),{id:"frontend-revalidated-gutenberg-notice",isDismissible:!0});else{let e=a+d+"&endpoint=";e+="post"===post_data.post_type?"/blog/":"/",e+=post_data.post_name;try{let t=await fetch(e);!0===(await t.json()).revalidated?wp.data.dispatch("core/notices").createNotice("success",(0,o.__)("Successfully revalidated frontend","souptik2001"),{id:"frontend-revalidated-gutenberg-notice",isDismissible:!0}):(console.log("======== FRONTEND REVALIDATION FAILED ========"),console.log(t),console.log("================"),wp.data.dispatch("core/notices").createNotice("error",(0,o.__)("Frontend revalidation failed from server side. Please check console for response received from server side.","souptik2001"),{id:"frontend-revalidated-gutenberg-notice",isDismissible:!0}))}catch(e){console.log("======== FRONTEND REVALIDATION FAILED ========"),console.log(e),console.log("================"),wp.data.dispatch("core/notices").createNotice("error",(0,o.__)("Error revalidating. Please check console for more information.","souptik2001"),{id:"frontend-revalidated-gutenberg-notice",isDismissible:!0})}}s(!1)};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.PluginSidebarMoreMenuItem,{target:"souptik2001-sidebar",icon:c},"Souptik2001"),(0,e.createElement)(i.PluginSidebar,{name:"souptik2001-sidebar",icon:c,title:"Souptik2001 settings"},(0,e.createElement)(t.Button,{variant:"primary",onClick:p,isBusy:n,disabled:n},"Revalidate Frontend")),(0,e.createElement)(i.PluginMoreMenuItem,{icon:r,onClick:p,disabled:n,isBusy:n},"Revalidate Frontend"))},icon:c})})();